<div class="page-header">
	<h1>
		Produtos <span class="badge">{{produtos.length}}</span>
		<button class="btn btn-link" ui-sref="produtoCadastro({id: 0})"><span class="glyphicon glyphicon-plus"></span> Novo produto</button> 
	</h1>	
</div>

<!-- Form para filtrar os produtos -->
<div class="row">
	<form class="form-inline">		
		<div class="input-group">
			<div class="input-group-addon"><span class="glyphicon glyphicon-search"></span></div>
			<input type="text" class="form-control" style="width: 300px" placeholder="Filtrar por nome, preço ou código" ng-model="filtroProduto">
		</div>	
	</form>	
</div>
<!-- Fim do form -->

<!-- Tabela com os produtos ja cadastrados -->
<div class="row area-consulta" style="margin-top: 30px">
	<table class="table table-striped">
		<thead>
			<tr>
				<th class="col-md-1">#</th>
				<th class="col-md-6">Nome</th>
				<th class="col-md-2">Preço</th>
				<th class="col-md-3">Ações</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="produto in produtos | filter:filtroProduto">
				<td>{{produto.id}}</td>
				<td>{{produto.nome}}
				
					<!-- Confirmação de exclusão do produto -->
					<div id="aviso{{produto.id}}" class="panel-collapse collapse conf-exclusao">  				
				  		<strong>Deletar {{produto.nome}}?</strong>
				  		<a class="btn btn-link" ng-click="deletarProduto($index)">
							Deletar
						</a>
						<a class="btn btn-link" data-toggle="collapse" data-target="#aviso{{produto.id}}">
							<strong>Melhor não</strong>
						</a>
					</div>
				
				</td>
				<td>{{produto.preco | currency:"R$ "}}</td>				
				<td>					
					<a class="btn btn-primary" ui-sref="produtoCadastro({id: produto.id})"><span class="glyphicon glyphicon-pencil"></span> Editar</a>
					<a class="btn btn-default" data-toggle="collapse" data-target="#aviso{{produto.id}}"><span class="glyphicon glyphicon-remove"></span> Deletar</a>					
				</td>
			</tr>
		</tbody>
	</table>
</div>
<!-- Fim da tabela -->